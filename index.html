<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-YouTube Video Player</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      background: linear-gradient(90deg, #ff416c, #ff4b2b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .subtitle { font-size: 1.2rem; opacity: 0.8; }
    .main-content { display: flex; flex-wrap: wrap; gap: 20px; }
    .video-controls {
      flex: 1;
      min-width: 300px;
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    .video-grid {
      flex: 2;
      min-width: 600px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    .video-container {
      position: relative;
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
    }
    .video-container:hover { transform: translateY(-5px); }
    .video-placeholder {
      width: 100%;
      height: 200px;
      background: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-size: 1.2rem;
    }
    .video-title {
      padding: 10px;
      background: rgba(0, 0, 0, 0.7);
      font-size: 0.9rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .control-group { margin-bottom: 25px; }
    .control-group h3 {
      margin-bottom: 15px;
      color: #ff4b2b;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 5px;
    }
    label { display: block; margin-bottom: 5px; font-weight: 500; }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(0, 0, 0, 0.3);
      color: white;
      font-size: 1rem;
    }
    input[type="text"]:focus { outline: none; border-color: #ff4b2b; }
    .btn {
      display: inline-block;
      padding: 10px 15px;
      background: linear-gradient(90deg, #ff416c, #ff4b2b);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 10px rgba(255, 75, 43, 0.4); }
    .btn-secondary { background: linear-gradient(90deg, #4776E6, #8E54E9); }
    .btn-danger { background: linear-gradient(90deg, #f857a6, #ff5858); }
    .btn-group { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
    .layout-controls { display: flex; gap: 10px; margin-top: 10px; }
    .layout-btn {
      flex: 1;
      text-align: center;
      padding: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .layout-btn.active { background: linear-gradient(90deg, #ff416c, #ff4b2b); }
    .instructions {
      margin-top: 30px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    .instructions h3 { margin-bottom: 10px; color: #ff4b2b; }
    .instructions ul { padding-left: 20px; }
    @media (max-width: 1000px) {
      .main-content { flex-direction: column; }
      .video-grid { min-width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Multi-YouTube Video Player</h1>
      <p class="subtitle">Play multiple YouTube videos simultaneously with synchronized controls</p>
    </header>

    <div class="main-content">
      <div class="video-controls">
        <div class="control-group">
          <h3>Add Videos</h3>
          <label for="video-url">YouTube Video URL or ID</label>
          <input type="text" id="video-url" placeholder="Enter YouTube URL or Video ID">
          <button id="add-video" class="btn">Add Video</button>
          <button id="add-sample" class="btn btn-secondary">Add Sample Videos</button>
        </div>

        <div class="control-group">
          <h3>Global Controls</h3>
          <div class="btn-group">
            <button id="play-all" class="btn">Play All</button>
            <button id="pause-all" class="btn">Pause All</button>
            <button id="mute-all" class="btn">Mute All</button>
            <button id="unmute-all" class="btn">Unmute All</button>
          </div>
        </div>

        <div class="control-group">
          <h3>Volume Control</h3>
          <div class="btn-group">
            <button id="volume-up" class="btn">Volume +10%</button>
            <button id="volume-down" class="btn">Volume -10%</button>
          </div>
        </div>

        <div class="control-group">
          <h3>Layout Options</h3>
          <div class="layout-controls">
            <div class="layout-btn active" data-layout="grid">Grid</div>
            <div class="layout-btn" data-layout="vertical">Vertical</div>
            <div class="layout-btn" data-layout="horizontal">Horizontal</div>
          </div>
        </div>

        <div class="control-group">
          <h3>Reset</h3>
          <button id="clear-all" class="btn btn-danger">Clear All Videos</button>
        </div>
      </div>

      <div class="video-grid" id="video-grid">
        <div class="video-container">
          <div class="video-placeholder">No videos added yet</div>
        </div>
      </div>
    </div>

    <div class="instructions">
      <h3>How to use:</h3>
      <ul>
        <li>Paste a YouTube URL or Video ID and click "Add Video".</li>
        <li>Click "Add Sample Videos" to test.</li>
        <li>Play, pause, or mute all at once.</li>
        <li>Switch between Grid, Vertical, and Horizontal layouts.</li>
      </ul>
    </div>
  </div>

  <script>
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    const firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    let players = [];
    let playerCount = 0;
    let currentLayout = 'grid';

    function onYouTubeIframeAPIReady() {}

    function extractVideoId(url) {
      const regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;
      const match = url.match(regExp);
      return (match && match[7].length === 11) ? match[7] : url;
    }

    document.getElementById('add-video').addEventListener('click', function() {
      const videoInput = document.getElementById('video-url');
      const videoId = extractVideoId(videoInput.value.trim());
      if (!videoId) { alert('⚠️ Please enter a valid YouTube link or ID'); return; }
      addVideoPlayer(videoId);
      videoInput.value = '';
    });

    document.getElementById('add-sample').addEventListener('click', function() {
      ['dQw4w9WgXcQ', '9bZkp7q19f0', 'kJQP7kiw5Fk', 'JGwWNGJdvx8'].forEach(id => addVideoPlayer(id));
    });

    document.getElementById('play-all').addEventListener('click', () => players.forEach(p => p.playVideo?.()));
    document.getElementById('pause-all').addEventListener('click', () => players.forEach(p => p.pauseVideo?.()));
    document.getElementById('mute-all').addEventListener('click', () => players.forEach(p => p.mute?.()));
    document.getElementById('unmute-all').addEventListener('click', () => players.forEach(p => p.unMute?.()));

    document.getElementById('volume-up').addEventListener('click', () => players.forEach(p => {
      let v = p.getVolume?.() || 50; p.setVolume?.(Math.min(v + 10, 100));
    }));
    document.getElementById('volume-down').addEventListener('click', () => players.forEach(p => {
      let v = p.getVolume?.() || 50; p.setVolume?.(Math.max(v - 10, 0));
    }));

    document.getElementById('clear-all').addEventListener('click', () => {
      document.getElementById('video-grid').innerHTML = '<div class="video-container"><div class="video-placeholder">No videos added yet</div></div>';
      players = []; playerCount = 0;
    });

    document.querySelectorAll('.layout-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.layout-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        currentLayout = this.getAttribute('data-layout');
        applyLayout(currentLayout);
      });
    });

    function applyLayout(layout) {
      const grid = document.getElementById('video-grid');
      grid.style.display = 'grid';
      switch (layout) {
        case 'grid': grid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(300px, 1fr))'; break;
        case 'vertical': grid.style.gridTemplateColumns = '1fr'; break;
        case 'horizontal': grid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(400px, 1fr))'; break;
      }
    }

    function addVideoPlayer(videoId) {
      const grid = document.getElementById('video-grid');
      if (grid.querySelector('.video-placeholder')) grid.innerHTML = '';

      playerCount++;
      const playerId = `player-${playerCount}`;
      const uniqueVideoId = videoId + "?enablejsapi=1&rand=" + Math.random();

      const div = document.createElement('div');
      div.className = 'video-container';
      div.innerHTML = `
        <div id="${playerId}"></div>
        <div class="video-title">Loading...</div>
        <div class="btn-group"><button class="btn remove-btn" data-id="${playerId}">Remove</button></div>
      `;
      grid.appendChild(div);

      const player = new YT.Player(playerId, {
        height: '200',
        width: '100%',
        videoId: uniqueVideoId,
        playerVars: { playsinline: 1, rel: 0 },
        events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange }
      });
      players.push(player);

      div.querySelector('.remove-btn').addEventListener('click', () => removeVideoPlayer(playerId));

      applyLayout(currentLayout);
    }

    function removeVideoPlayer(id) {
      const index = players.findIndex(p => p.a && p.a.id === id);
      if (index !== -1) players.splice(index, 1);
      document.getElementById(id)?.closest('.video-container')?.remove();
      const grid = document.getElementById('video-grid');
      if (grid.children.length === 0) {
        grid.innerHTML = '<div class="video-container"><div class="video-placeholder">No videos added yet</div></div>';
      }
      applyLayout(currentLayout);
    }

    function onPlayerReady(e) {
      const videoData = e.target.getVideoData();
      const title = videoData.title || 'Untitled Video';
      const container = e.target.a.parentNode;
      container.querySelector('.video-title').textContent = title;
    }

    function onPlayerStateChange(e) {}

    document.getElementById('video-url').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') document.getElementById('add-video').click();
    });
  </script>
</body>
  </html>
